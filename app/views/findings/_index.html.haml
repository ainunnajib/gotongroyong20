%h4 New finding
=text_area_tag :finding, '', class: 'wide-text-area', 'ng-model' => 'newFinding.comment'
=button_tag('Submit', class: 'btn btn-primary pull-right', 'ng-click' => 'createFinding(newFinding)')

%div{style: 'clear:both'}
.finding{'ng-repeat' => 'finding in findings'}
  .pull-left{style: 'margin-right: 20px; margin-bottom: 5px; margin-left:10px; margin-top: 10px'}
    .thumb{'ng-if' => "finding.my_vote_status == 'quo' || finding.my_vote_status == 'not_available'"}
      =image_tag("up_inactive.png", 'ng-click' => 'vote_up(finding)', mouseover: "up_hover.png", size: "20x25")
      %br
      .point
        {{finding.up_vote - finding.down_vote}}
      =image_tag("down_inactive.png", 'ng-click' =>'vote_down(finding)', size: "20x25", style: 'margin-top:10px')
    .thumb{'ng-if' => "finding.my_vote_status == 'up'"}
      =image_tag("up_pressed.png", mouseover: "up_hover.png", size: "20x25", 'ng-click' => 'unvote(finding)')
      %br
      .point
        {{finding.up_vote - finding.down_vote}}
      =image_tag("down_inactive.png", 'ng-click' => 'vote_down(finding)', size: "20x25", style: 'margin-top:10px')
    .thumb{'ng-if' => "finding.my_vote_status == 'down'"}
      =image_tag("up_inactive.png", 'ng-click' => 'vote_up(finding)', mouseover: "up_hover.png", size: "20x25")
      %br
      .point
        {{finding.up_vote - finding.down_vote}}
      =image_tag("down_pressed.png", size: "20x25", style: 'margin-top:10px', 'ng-click' => 'unvote(finding)')

  .comment
    {{finding.comment}}
  %br
  .posted-by
    Posted by: {{finding.posted_by}}

  %div{style: 'clear:both'}
  %hr